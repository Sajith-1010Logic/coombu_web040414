<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/layouts/standard.xhtml">

	<ui:define name="body">
		<ui:include src="onecolumnbody.xhtml" />
	</ui:define>
	<ui:define name="toobar">
		<ui:include src="header.xhtml" />
	</ui:define>
	<ui:define name="unicolumn">
		<f:event type="preRenderView" listener="#{profileBean.loadSecurityUser()}" />
		<div style="width: 100%; height: 50px;">&#160;</div>
<h:form id="modifyAccount">
	<table  width="700px" border="0" cellspacing="0" cellpadding="0" >
		<tr><td><p:messages showDetail="true"/></td></tr>
	</table>
	<table width="700px" border="0" cellspacing="10" cellpadding="10" id="dataentry" style="font-size:12px">
		<caption><h2>Change Password</h2></caption>	
		<tr>
			<td colspan="2" class="required"><span class="fields">All
					fields indicated with * are mandatory:</span></td>
		</tr>
				<tr>
					<th class="labels" scope="row" nowrap="nowrap">User Name</th>
					<td class="fields" nowrap="nowrap">
						<font color="green">#{profileBean.securityUser.userName}</font>
					</td>
				</tr>
				<tr>
					<th class="labels" scope="row" style="white-space: nowrap">
						<p:outputLabel for="currentPassword" value="Current Password"/>
					</th>
					<td class="fields" style="white-space: nowrap">
						<p:password id="currentPassword" value="#{profileBean.securityUser.currentPassword}" tabindex="1" required="true"  maxlength="20" />
					</td>
				</tr>		
				<tr>
					<th class="labels" scope="row" style="white-space: nowrap">
						<p:outputLabel 	for="password" value="Password"/>
					</th>
					<td class="fields" style="white-space: nowrap">
						<p:password id="password" value="#{profileBean.securityUser.password}" tabindex="2" required="true" feedback="true" match="confirmPassword" maxlength="20" >
							<f:validator validatorId="passwordValidator" />
            				<f:attribute name="confirmPassword" value="#{confirmPassword}" />							
						</p:password>
						
					</td>
				</tr>
				<tr>										
					<th class="labels" scope="row" style="white-space: nowrap">
						<p:outputLabel for="confirmPassword" value="Confirm Password"/>
					</th>
					<td class="fields" style="white-space: nowrap">
						<p:password value="#{profileBean.securityUser.confirmPassword}" tabindex="3" required="true" id="confirmPassword" binding="#{confirmPassword}" maxlength="20"/>
					</td>
				</tr>
		<tr>
			<td colspan="2">&#160;;</td>
		</tr>
		<tr>
			<td colspan="2" align="center">
				<p:commandButton id="submit" value="Update" action="#{profileBean.changePassword()}" update="@form" class="profilebut"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
			</td>
		</tr>
		
	</table>
</h:form>
</ui:define>
</ui:composition>